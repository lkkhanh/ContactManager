{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate,useParams}from\"react-router-dom\";import{ContactService}from\"../../../services/ContactService\";import Spinner from\"../../Spinner/Spinner\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let EditContact=()=>{let navigate=useNavigate();let{contactId}=useParams();let[state,setState]=useState({loading:false,contact:{name:'',photo:'',mobile:'',email:'',company:'',title:'',groupId:''},groups:[],errorMessage:''});useEffect(()=>{const fetchData=async()=>{try{setState({...state,loading:true});let response=await ContactService.getContact(contactId);let groupResponse=await ContactService.getGroups();setState({...state,loading:false,contact:response.data,groups:groupResponse.data});}catch(error){setState({...state,loading:false,errorMessage:error.message});}};fetchData();},[contactId]);let updateInput=event=>{setState({...state,contact:{...state.contact,[event.target.name]:event.target.value}});};let submitForm=async event=>{event.preventDefault();try{let response=await ContactService.updateContact(state.contact,contactId);if(response){navigate('/contacts/list',{replace:true});}}catch(error){setState({...state,errorMessage:error.message});navigate(\"/contacts/edit/\".concat(contactId),{replace:false});}};let{loading,contact,groups,errorMessage}=state;return/*#__PURE__*/_jsx(React.Fragment,{children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"add-contact p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"h4 text-primary fw-bold\",children:\"Edit Contact\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fst-italic\",children:\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur autem, culpa dolor ducimus eligendi esse fuga fugit in maxime molestiae odio officia porro quae quas sint sit temporibus ut vero?\"})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitForm,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:\"true\",name:\"name\",value:contact.name,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:\"true\",name:\"photo\",value:contact.photo,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Photo Url\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:\"true\",name:\"mobile\",value:contact.mobile,onChange:updateInput,type:\"number\",className:\"form-control\",placeholder:\"Mobile\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:\"true\",name:\"email\",value:contact.email,onChange:updateInput,type:\"email\",className:\"form-control\",placeholder:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:\"true\",name:\"company\",value:contact.company,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Company\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:\"true\",name:\"title\",value:contact.title,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Title\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"select\",{required:\"true\",name:\"groupId\",value:contact.groupId,onChange:updateInput,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Group\"}),groups.length>0&&groups.map(group=>{return/*#__PURE__*/_jsx(\"option\",{value:group.id,children:group.name},group.id);})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-primary\",value:\"Update\"}),/*#__PURE__*/_jsx(Link,{to:\"/contacts/list\",className:\"btn btn-dark ms-2\",children:\"Cancel\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"img\",{src:contact.photo,className:\"contact-img\"})})]})]})})})});};export default EditContact;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","useParams","ContactService","Spinner","jsx","_jsx","jsxs","_jsxs","EditContact","navigate","contactId","state","setState","loading","contact","name","photo","mobile","email","company","title","groupId","groups","errorMessage","fetchData","response","getContact","groupResponse","getGroups","data","error","message","updateInput","event","target","value","submitForm","preventDefault","updateContact","replace","concat","Fragment","children","className","onSubmit","required","onChange","type","placeholder","length","map","group","id","to","src"],"sources":["F:/ContactManager/src/components/contacts/EditContact/EditContact.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {Link, useNavigate, useParams} from \"react-router-dom\";\r\nimport {ContactService} from \"../../../services/ContactService\";\r\nimport Spinner from \"../../Spinner/Spinner\";\r\n\r\nlet EditContact = () => {\r\n\r\n    let navigate = useNavigate();\r\n\r\n    let {contactId} = useParams();\r\n\r\n    let [state, setState] = useState({\r\n        loading : false,\r\n        contact : {\r\n            name: '',\r\n            photo: '',\r\n            mobile: '',\r\n            email: '',\r\n            company: '',\r\n            title: '',\r\n            groupId: ''\r\n        },\r\n        groups : [],\r\n        errorMessage : ''\r\n    });\r\n\r\n    useEffect(() => {\r\n        const fetchData = async ()=> {\r\n            try {\r\n                setState({...state, loading:true});\r\n                let response = await ContactService.getContact(contactId);\r\n                let groupResponse = await ContactService.getGroups();\r\n                setState({\r\n                    ...state,\r\n                    loading: false,\r\n                    contact: response.data,\r\n                    groups: groupResponse.data\r\n                });\r\n            }\r\n            catch (error){\r\n                setState({\r\n                    ...state,\r\n                    loading: false,\r\n                    errorMessage: error.message\r\n                });\r\n            }\r\n        };\r\n        fetchData();\r\n    }, [contactId]);\r\n\r\n    let updateInput = (event) => {\r\n        setState({\r\n            ...state,\r\n            contact: {\r\n                ...state.contact,\r\n                [event.target.name] : event.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    let submitForm = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            let response = await ContactService.updateContact(state.contact, contactId);\r\n            if (response){\r\n                navigate('/contacts/list', { replace: true});\r\n            }\r\n        }\r\n        catch (error){\r\n            setState({...state, errorMessage: error.message});\r\n                navigate(`/contacts/edit/${contactId}`, {replace: false});\r\n        }\r\n\r\n    };\r\n\r\n    let {loading,contact,groups,errorMessage} = state\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {\r\n                loading ? <Spinner/> : <React.Fragment>\r\n                    <section className=\"add-contact p-3\">\r\n                        <div className=\"container\">\r\n                            <div className=\"row\">\r\n                                <div className=\"col\">\r\n                                    <p className=\"h4 text-primary fw-bold\">Edit Contact</p>\r\n                                    <p className=\"fst-italic\">Lorem ipsum dolor sit amet, consectetur adipisicing elit.\r\n                                        Aspernatur autem, culpa dolor ducimus eligendi esse fuga fugit in maxime\r\n                                        molestiae odio officia porro quae quas sint sit temporibus ut vero?</p>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"row align-items-center\">\r\n                                <div className=\"col-md-4\">\r\n                                    <form onSubmit={submitForm}>\r\n                                        <div className=\"mb-2\">\r\n                                            <input\r\n                                                required=\"true\"\r\n                                                name=\"name\"\r\n                                                value={contact.name}\r\n                                                onChange={updateInput}\r\n                                                type=\"text\" className=\"form-control\" placeholder=\"Name\"/>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <input\r\n                                                required=\"true\"\r\n                                                name=\"photo\"\r\n                                                value={contact.photo}\r\n                                                onChange={updateInput}\r\n                                                type=\"text\" className=\"form-control\" placeholder=\"Photo Url\"/>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <input\r\n                                                required=\"true\"\r\n                                                name=\"mobile\"\r\n                                                value={contact.mobile}\r\n                                                onChange={updateInput}\r\n                                                type=\"number\" className=\"form-control\" placeholder=\"Mobile\"/>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <input\r\n                                                required=\"true\"\r\n                                                name=\"email\"\r\n                                                value={contact.email}\r\n                                                onChange={updateInput}\r\n                                                type=\"email\" className=\"form-control\" placeholder=\"Email\"/>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <input\r\n                                                required=\"true\"\r\n                                                name=\"company\"\r\n                                                value={contact.company}\r\n                                                onChange={updateInput}\r\n                                                type=\"text\" className=\"form-control\" placeholder=\"Company\"/>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <input\r\n                                                required=\"true\"\r\n                                                name=\"title\"\r\n                                                value={contact.title}\r\n                                                onChange={updateInput}\r\n                                                type=\"text\" className=\"form-control\" placeholder=\"Title\"/>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <select\r\n                                                required=\"true\"\r\n                                                name=\"groupId\"\r\n                                                value={contact.groupId}\r\n                                                onChange={updateInput}\r\n                                                className=\"form-control\">\r\n                                                <option value=\"\">Select a Group</option>\r\n                                                {\r\n                                                    groups.length > 0 &&\r\n                                                    groups.map(group => {\r\n                                                        return (\r\n                                                            <option key={group.id}\r\n                                                                    value={group.id}>{group.name}</option>\r\n                                                        )\r\n                                                    })\r\n                                                }\r\n                                            </select>\r\n                                        </div>\r\n                                        <div className=\"mb-2\">\r\n                                            <input type=\"submit\" className=\"btn btn-primary\" value=\"Update\"/>\r\n                                            <Link to={\"/contacts/list\"} className=\"btn btn-dark ms-2\">Cancel</Link>\r\n                                        </div>\r\n                                    </form>\r\n                                </div>\r\n                                <div className=\"col-md-6\">\r\n                                    <img src={contact.photo} className=\"contact-img\"/>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </section>\r\n                </React.Fragment>\r\n            }\r\n        </React.Fragment>\r\n    )\r\n};\r\nexport default EditContact;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}