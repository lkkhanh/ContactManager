{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{Link,useNavigate}from\"react-router-dom\";import{ContactService}from\"../../../services/ContactService\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";let AddContact=()=>{let navigate=useNavigate();let[state,setState]=useState({loading:false,contact:{name:'',photo:'',mobile:'',email:'',company:'',title:'',groupId:''},groups:[],errorMessage:''});let updateInput=event=>{setState({...state,contact:{...state.contact,[event.target.name]:event.target.value}});};useEffect(()=>{const fetchData=async()=>{try{setState({...state,loading:true});let response=await ContactService.getGroups();setState({...state,loading:false,groups:response.data});}catch(error){}};fetchData();},[]);let submitForm=async event=>{event.preventDefault();try{let response=await ContactService.creatContact(state.contact);if(response){navigate('/contacts/list',{replace:true});}}catch(error){setState({...state,errorMessage:error.message});navigate('/contacts/add',{replace:false});}};let{loading,contact,groups,errorMessage}=state;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"section\",{className:\"add-contact p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"h4 text-success fw-bold\",children:\"Creat Contact\"}),/*#__PURE__*/_jsx(\"p\",{className:\"fst-italic\",children:\"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur autem, culpa dolor ducimus eligendi esse fuga fugit in maxime molestiae odio officia porro quae quas sint sit temporibus ut vero?\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitForm,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:true,name:\"name\",value:contact.name,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Name\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:true,name:\"photo\",value:contact.photo,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Photo Url\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:true,name:\"mobile\",value:contact.mobile,onChange:updateInput,type:\"number\",className:\"form-control\",placeholder:\"Mobile\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:true,name:\"email\",value:contact.email,onChange:updateInput,type:\"email\",className:\"form-control\",placeholder:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:true,name:\"company\",value:contact.company,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Company\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsx(\"input\",{required:true,name:\"title\",value:contact.title,onChange:updateInput,type:\"text\",className:\"form-control\",placeholder:\"Title\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"mb-2\",children:/*#__PURE__*/_jsxs(\"select\",{required:true,name:\"groupId\",value:contact.groupId,onChange:updateInput,className:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select a Group\"}),groups.length>0&&groups.map(group=>{return/*#__PURE__*/_jsx(\"option\",{value:group.id,children:group.name},group.id);})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"submit\",className:\"btn btn-success\",value:\"Create\"}),/*#__PURE__*/_jsx(Link,{to:\"/contacts/list\",className:\"btn btn-dark ms-2\",children:\"Cancel\"})]})]})})})]})})});};export default AddContact;","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","ContactService","jsx","_jsx","jsxs","_jsxs","AddContact","navigate","state","setState","loading","contact","name","photo","mobile","email","company","title","groupId","groups","errorMessage","updateInput","event","target","value","fetchData","response","getGroups","data","error","submitForm","preventDefault","creatContact","replace","message","Fragment","children","className","onSubmit","required","onChange","type","placeholder","length","map","group","id","to"],"sources":["F:/ContactManager/src/components/contacts/AddContact/AddContact.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport {Link, useNavigate} from \"react-router-dom\";\r\nimport {ContactService} from \"../../../services/ContactService\";\r\n\r\nlet AddContact = () => {\r\n\r\n    let navigate = useNavigate();\r\n\r\n    let [state, setState] =useState({\r\n       loading :false,\r\n       contact: {\r\n         name: '',\r\n         photo: '',\r\n         mobile: '',\r\n         email: '',\r\n         company: '',\r\n         title: '',\r\n         groupId: '',\r\n       },\r\n        groups: [],\r\n        errorMessage: ''\r\n    });\r\n\r\n    let updateInput = (event) => {\r\n        setState ({\r\n            ...state,\r\n            contact: {\r\n                ...state.contact,\r\n                [event.target.name] : event.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetchData = async ()=> {\r\n            try{\r\n                setState({...state , loading: true});\r\n                let response = await ContactService.getGroups();\r\n                setState({\r\n                    ...state,\r\n                    loading: false,\r\n                    groups: response.data\r\n                });\r\n            }\r\n            catch (error){\r\n\r\n            }\r\n        };\r\n        fetchData();\r\n    }, []);\r\n\r\n    let submitForm = async (event) => {\r\n        event.preventDefault();\r\n        try {\r\n            let response = await ContactService.creatContact(state.contact);\r\n            if (response){\r\n                navigate('/contacts/list', { replace: true });\r\n            }\r\n        }\r\n        catch (error){\r\n            setState({...state, errorMessage: error.message});\r\n            navigate('/contacts/add',{ replace: false});\r\n        }\r\n    };\r\n\r\n    let {loading,contact,groups,errorMessage} = state;\r\n\r\n\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <section className=\"add-contact p-3\">\r\n                <div className=\"container\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col\">\r\n                            <p className=\"h4 text-success fw-bold\">Creat Contact</p>\r\n                            <p className=\"fst-italic\">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aspernatur autem, culpa dolor ducimus eligendi esse fuga fugit in maxime molestiae odio officia porro quae quas sint sit temporibus ut vero?</p>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-md-4\">\r\n                            <form onSubmit={submitForm}>\r\n                                <div className=\"mb-2\">\r\n                                    <input\r\n                                        required={true}\r\n                                        name=\"name\"\r\n                                        value={contact.name}\r\n                                        onChange={updateInput}\r\n                                        type=\"text\" className=\"form-control\" placeholder=\"Name\"/>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                    <input\r\n                                        required={true}\r\n                                        name=\"photo\"\r\n                                        value={contact.photo}\r\n                                        onChange={updateInput}\r\n                                        type=\"text\" className=\"form-control\" placeholder=\"Photo Url\"/>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                    <input\r\n                                        required={true}\r\n                                        name=\"mobile\"\r\n                                        value={contact.mobile}\r\n                                        onChange={updateInput}\r\n                                        type=\"number\" className=\"form-control\" placeholder=\"Mobile\"/>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                    <input\r\n                                        required={true}\r\n                                        name=\"email\"\r\n                                        value={contact.email}\r\n                                        onChange={updateInput}\r\n                                        type=\"email\" className=\"form-control\" placeholder=\"Email\"/>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                    <input\r\n                                        required={true}\r\n                                        name=\"company\"\r\n                                        value={contact.company}\r\n                                        onChange={updateInput}\r\n                                        type=\"text\" className=\"form-control\" placeholder=\"Company\"/>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                    <input\r\n                                        required={true}\r\n                                        name=\"title\"\r\n                                        value={contact.title}\r\n                                        onChange={updateInput}\r\n                                        type=\"text\" className=\"form-control\" placeholder=\"Title\"/>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                    <select\r\n                                        required={true}\r\n                                        name=\"groupId\"\r\n                                        value={contact.groupId}\r\n                                        onChange={updateInput}\r\n                                        className=\"form-control\">\r\n                                        <option value=\"\">Select a Group</option>\r\n                                        {\r\n                                            groups.length > 0 &&\r\n                                                groups.map(group => {\r\n                                                    return(\r\n                                                        <option key={group.id} value={group.id}>{group.name}</option>\r\n                                                    )\r\n                                                })\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className=\"mb-2\">\r\n                                    <input type=\"submit\" className=\"btn btn-success\" value=\"Create\"/>\r\n                                    <Link to={\"/contacts/list\"} className=\"btn btn-dark ms-2\">Cancel</Link>\r\n                                </div>\r\n                            </form>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n            </section>\r\n        </React.Fragment>\r\n    )\r\n};\r\nexport default AddContact;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,CAAEC,QAAQ,KAAO,OAAO,CAChD,OAAQC,IAAI,CAAEC,WAAW,KAAO,kBAAkB,CAClD,OAAQC,cAAc,KAAO,kCAAkC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEhE,GAAI,CAAAC,UAAU,CAAGA,CAAA,GAAM,CAEnB,GAAI,CAAAC,QAAQ,CAAGP,WAAW,CAAC,CAAC,CAE5B,GAAI,CAACQ,KAAK,CAAEC,QAAQ,CAAC,CAAEX,QAAQ,CAAC,CAC7BY,OAAO,CAAE,KAAK,CACdC,OAAO,CAAE,CACPC,IAAI,CAAE,EAAE,CACRC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EAAE,CACVC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EAAE,CACXC,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,EACX,CAAC,CACAC,MAAM,CAAE,EAAE,CACVC,YAAY,CAAE,EAClB,CAAC,CAAC,CAEF,GAAI,CAAAC,WAAW,CAAIC,KAAK,EAAK,CACzBb,QAAQ,CAAE,CACN,GAAGD,KAAK,CACRG,OAAO,CAAE,CACL,GAAGH,KAAK,CAACG,OAAO,CAChB,CAACW,KAAK,CAACC,MAAM,CAACX,IAAI,EAAIU,KAAK,CAACC,MAAM,CAACC,KACvC,CACJ,CAAC,CAAC,CACN,CAAC,CAED3B,SAAS,CAAC,IAAM,CACZ,KAAM,CAAA4B,SAAS,CAAG,KAAAA,CAAA,GAAW,CACzB,GAAG,CACChB,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAGE,OAAO,CAAE,IAAI,CAAC,CAAC,CACpC,GAAI,CAAAgB,QAAQ,CAAG,KAAM,CAAAzB,cAAc,CAAC0B,SAAS,CAAC,CAAC,CAC/ClB,QAAQ,CAAC,CACL,GAAGD,KAAK,CACRE,OAAO,CAAE,KAAK,CACdS,MAAM,CAAEO,QAAQ,CAACE,IACrB,CAAC,CAAC,CACN,CACA,MAAOC,KAAK,CAAC,CAEb,CACJ,CAAC,CACDJ,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAI,CAAAK,UAAU,CAAG,KAAO,CAAAR,KAAK,EAAK,CAC9BA,KAAK,CAACS,cAAc,CAAC,CAAC,CACtB,GAAI,CACA,GAAI,CAAAL,QAAQ,CAAG,KAAM,CAAAzB,cAAc,CAAC+B,YAAY,CAACxB,KAAK,CAACG,OAAO,CAAC,CAC/D,GAAIe,QAAQ,CAAC,CACTnB,QAAQ,CAAC,gBAAgB,CAAE,CAAE0B,OAAO,CAAE,IAAK,CAAC,CAAC,CACjD,CACJ,CACA,MAAOJ,KAAK,CAAC,CACTpB,QAAQ,CAAC,CAAC,GAAGD,KAAK,CAAEY,YAAY,CAAES,KAAK,CAACK,OAAO,CAAC,CAAC,CACjD3B,QAAQ,CAAC,eAAe,CAAC,CAAE0B,OAAO,CAAE,KAAK,CAAC,CAAC,CAC/C,CACJ,CAAC,CAED,GAAI,CAACvB,OAAO,CAACC,OAAO,CAACQ,MAAM,CAACC,YAAY,CAAC,CAAGZ,KAAK,CAIjD,mBACIL,IAAA,CAACP,KAAK,CAACuC,QAAQ,EAAAC,QAAA,cACXjC,IAAA,YAASkC,SAAS,CAAC,iBAAiB,CAAAD,QAAA,cAChC/B,KAAA,QAAKgC,SAAS,CAAC,WAAW,CAAAD,QAAA,eACtBjC,IAAA,QAAKkC,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChB/B,KAAA,QAAKgC,SAAS,CAAC,KAAK,CAAAD,QAAA,eAChBjC,IAAA,MAAGkC,SAAS,CAAC,yBAAyB,CAAAD,QAAA,CAAC,eAAa,CAAG,CAAC,cACxDjC,IAAA,MAAGkC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,wMAAsM,CAAG,CAAC,EACnO,CAAC,CACL,CAAC,cACNjC,IAAA,QAAKkC,SAAS,CAAC,KAAK,CAAAD,QAAA,cAChBjC,IAAA,QAAKkC,SAAS,CAAC,UAAU,CAAAD,QAAA,cACrB/B,KAAA,SAAMiC,QAAQ,CAAER,UAAW,CAAAM,QAAA,eACvBjC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBjC,IAAA,UACIoC,QAAQ,CAAE,IAAK,CACf3B,IAAI,CAAC,MAAM,CACXY,KAAK,CAAEb,OAAO,CAACC,IAAK,CACpB4B,QAAQ,CAAEnB,WAAY,CACtBoB,IAAI,CAAC,MAAM,CAACJ,SAAS,CAAC,cAAc,CAACK,WAAW,CAAC,MAAM,CAAC,CAAC,CAC5D,CAAC,cACNvC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBjC,IAAA,UACIoC,QAAQ,CAAE,IAAK,CACf3B,IAAI,CAAC,OAAO,CACZY,KAAK,CAAEb,OAAO,CAACE,KAAM,CACrB2B,QAAQ,CAAEnB,WAAY,CACtBoB,IAAI,CAAC,MAAM,CAACJ,SAAS,CAAC,cAAc,CAACK,WAAW,CAAC,WAAW,CAAC,CAAC,CACjE,CAAC,cACNvC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBjC,IAAA,UACIoC,QAAQ,CAAE,IAAK,CACf3B,IAAI,CAAC,QAAQ,CACbY,KAAK,CAAEb,OAAO,CAACG,MAAO,CACtB0B,QAAQ,CAAEnB,WAAY,CACtBoB,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,cAAc,CAACK,WAAW,CAAC,QAAQ,CAAC,CAAC,CAChE,CAAC,cACNvC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBjC,IAAA,UACIoC,QAAQ,CAAE,IAAK,CACf3B,IAAI,CAAC,OAAO,CACZY,KAAK,CAAEb,OAAO,CAACI,KAAM,CACrByB,QAAQ,CAAEnB,WAAY,CACtBoB,IAAI,CAAC,OAAO,CAACJ,SAAS,CAAC,cAAc,CAACK,WAAW,CAAC,OAAO,CAAC,CAAC,CAC9D,CAAC,cACNvC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBjC,IAAA,UACIoC,QAAQ,CAAE,IAAK,CACf3B,IAAI,CAAC,SAAS,CACdY,KAAK,CAAEb,OAAO,CAACK,OAAQ,CACvBwB,QAAQ,CAAEnB,WAAY,CACtBoB,IAAI,CAAC,MAAM,CAACJ,SAAS,CAAC,cAAc,CAACK,WAAW,CAAC,SAAS,CAAC,CAAC,CAC/D,CAAC,cACNvC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjBjC,IAAA,UACIoC,QAAQ,CAAE,IAAK,CACf3B,IAAI,CAAC,OAAO,CACZY,KAAK,CAAEb,OAAO,CAACM,KAAM,CACrBuB,QAAQ,CAAEnB,WAAY,CACtBoB,IAAI,CAAC,MAAM,CAACJ,SAAS,CAAC,cAAc,CAACK,WAAW,CAAC,OAAO,CAAC,CAAC,CAC7D,CAAC,cACNvC,IAAA,QAAKkC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACjB/B,KAAA,WACIkC,QAAQ,CAAE,IAAK,CACf3B,IAAI,CAAC,SAAS,CACdY,KAAK,CAAEb,OAAO,CAACO,OAAQ,CACvBsB,QAAQ,CAAEnB,WAAY,CACtBgB,SAAS,CAAC,cAAc,CAAAD,QAAA,eACxBjC,IAAA,WAAQqB,KAAK,CAAC,EAAE,CAAAY,QAAA,CAAC,gBAAc,CAAQ,CAAC,CAEpCjB,MAAM,CAACwB,MAAM,CAAG,CAAC,EACbxB,MAAM,CAACyB,GAAG,CAACC,KAAK,EAAI,CAChB,mBACI1C,IAAA,WAAuBqB,KAAK,CAAEqB,KAAK,CAACC,EAAG,CAAAV,QAAA,CAAES,KAAK,CAACjC,IAAI,EAAtCiC,KAAK,CAACC,EAAyC,CAAC,CAErE,CAAC,CAAC,EAEN,CAAC,CACR,CAAC,cACNzC,KAAA,QAAKgC,SAAS,CAAC,MAAM,CAAAD,QAAA,eACjBjC,IAAA,UAAOsC,IAAI,CAAC,QAAQ,CAACJ,SAAS,CAAC,iBAAiB,CAACb,KAAK,CAAC,QAAQ,CAAC,CAAC,cACjErB,IAAA,CAACJ,IAAI,EAACgD,EAAE,CAAE,gBAAiB,CAACV,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAC,QAAM,CAAM,CAAC,EACtE,CAAC,EACJ,CAAC,CACN,CAAC,CACL,CAAC,EACL,CAAC,CAED,CAAC,CACE,CAAC,CAEzB,CAAC,CACD,cAAe,CAAA9B,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}